<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Malzeme Hesaplama Sistemi</title>
    <link rel="stylesheet" href="styles/main.css">
</head>
<body>
    <div class="app-container">
        <!-- √úst Panel - ƒ∞ki Satƒ±rlƒ± D√ºzenleme -->
        <div class="top-panel">
            <div class="project-section">
                <div class="project-title">
                    <h3 data-lang="project_info">üìã Proje Bilgileri</h3>
                </div>
                <div class="project-form-container">
                    <!-- √úst Satƒ±r -->
                    <div class="project-row">
                        <div class="form-group-compact">
                            <label for="projeAdi" data-lang="project_name">Proje Adƒ±</label>
                            <input type="text" id="projeAdi" data-lang-placeholder="project_name_placeholder">
                        </div>
                        <div class="form-group-compact">
                            <label for="siparisNo" data-lang="order_no">Sipari≈ü No</label>
                            <input type="text" id="siparisNo" data-lang-placeholder="order_no_placeholder">
                        </div>
                        <div class="form-group-compact">
                            <label for="revizyonNo" data-lang="revision_no">Revizyon No</label>
                            <input type="text" id="revizyonNo" data-lang-placeholder="revision_no_placeholder">
                        </div>
                    </div>
                    <!-- Alt Satƒ±r -->
                    <div class="project-row">
                        <div class="form-group-compact">
                            <label for="resimAciklamasi" data-lang="drawing_description">Resim A√ßƒ±klamasƒ±</label>
                            <input type="text" id="resimAciklamasi" data-lang-placeholder="drawing_description_placeholder">
                        </div>
                        <div class="form-group-compact">
                            <label for="resimNo" data-lang="drawing_no">Resim No</label>
                            <input type="text" id="resimNo" data-lang-placeholder="drawing_no_placeholder">
                        </div>
                        <div class="form-group-compact">
                            <label for="hazirlayan" data-lang="prepared_by">Hazƒ±rlayan</label>
                            <input type="text" id="hazirlayan" data-lang-placeholder="prepared_by_placeholder">
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Saƒü Taraf - √ñzet ve Butonlar -->
            <div class="panel-right-section">
                <!-- Dil Se√ßici -->
                <div class="language-selector">
                    <select id="languageSelect">
                        <option value="tr">üáπüá∑ T√ºrk√ße</option>
                        <option value="en">üá∫üá∏ English</option>
                    </select>
                </div>
                
                <!-- √ñzet Raporu -->
                <div class="summary-panel-compact">
                    <div class="summary-header-compact" data-lang="summary_report">üìä √ñzet Raporu</div>
                    <div class="summary-content">
                        <div class="summary-item">
                            <span class="summary-label" data-lang="total_parts">Toplam Par√ßa:</span>
                            <span class="summary-value" id="toplamParca">0</span>
                        </div>
                        <div class="summary-item">
                            <span class="summary-label" data-lang="total_weight">Toplam Aƒüƒ±rlƒ±k:</span>
                            <span class="summary-value" id="genelToplamAgirlik">0.00 kg</span>
                        </div>
                    </div>
                </div>
                
                <!-- Excel ƒ∞≈ülemleri -->
                <div class="excel-actions-container">
                    <div class="excel-buttons-row">
                        <button id="btnExcelKaydet" class="btn-excel-action" data-lang="excel_save">
                            üíæ Excel Kaydet
                        </button>
                        <button id="btnExcelAc" class="btn-excel-action" data-lang="excel_open">
                            üìÅ Excel A√ß
                        </button>
                        <button id="btnFilter" class="btn-excel-action" data-lang="filter_materials">
                            üîç Filtrele
                        </button>
                    </div>
                    <button id="btnTabloTemizle" class="btn-table-clear-action" onclick="MaterialCalculator.tabloyuTemizle()" data-lang="clear_table">
                        üóëÔ∏è Tabloyu Temizle
                    </button>
                </div>
            </div>
        </div>

        <!-- Ana ƒ∞√ßerik Alanƒ± -->
        <div class="main-content">
            <!-- Sol Panel - Malzeme Bilgileri -->
            <div class="left-panel">
                <div class="panel-header">
                    <h2 data-lang="material_info">‚öôÔ∏è Malzeme Bilgileri</h2>
                </div>
                
                <div class="material-info-card">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="malzemeTuru">
                                <span class="label-icon">üìê</span> <span data-lang="material_type">Malzeme T√ºr√º</span>
                            </label>
                            <select id="malzemeTuru" onchange="MaterialCalculator.malzemeTuruDegisti()">
                                <option value="" data-lang="material_type_select">Se√ßiniz...</option>
                                <option value="sac" data-lang="material_sheet">Sac</option>
                                <option value="lama" data-lang="material_plate">Lama</option>
                                <option value="boru" data-lang="material_pipe">Boru</option>
                                <option value="kosebent" data-lang="material_angle">L K√∂≈üebent</option>
                                <option value="npu" data-lang="material_npu">NPU Profil</option>
                                <option value="npi" data-lang="material_npi">NPI Profil</option>
                                <option value="heb" data-lang="material_heb">HEB Profil</option>
                                <option value="hea" data-lang="material_hea">HEA Profil</option>
                                <option value="ipe" data-lang="material_ipe">IPE Profil</option>
                                <option value="kutu" data-lang="material_box">Kutu Profil</option>
                                <option value="flans" data-lang="material_flange_std">Standart Flan≈ü</option>
                                <option value="ozelFlans" data-lang="material_flange_custom">√ñzel Flan≈ü</option>
                                <option value="mil" data-lang="material_shaft">Mil</option>
                                <option value="izgara" data-lang="material_grate">Izgara Elemanlarƒ±</option>
                                <option value="ozelMalzeme" data-lang="material_custom">√ñzel Malzeme</option>
                                <option value="dirsek" data-lang="material_elbow">Dirsek (EN 10253-1)</option>
                                <option value="eklenenMalzeme" data-lang="material_added">-- Eklenen Malzeme --</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="malzemeCinsi">
                                <span class="label-icon">üî¨</span> <span data-lang="material_grade">Malzeme Cinsi</span>
                            </label>
                            <select id="malzemeCinsi">
                                <option value="S235JR">S235JR</option>
                                <option value="S275JR">S275JR</option>
                                <option value="P235GH">P235GH</option>
                                <option value="P250GH">P250GH</option>
                                <option value="P265GH">P265GH</option>
                                <option value="P295GH">P295GH</option>
                                <option value="P355GH">P355GH</option>
                                <option value="P355NH">P355NH</option>
                                <option value="1.4301">1.4301 (304)</option>
                                <option value="1.4401">1.4401 (316)</option>
                                <option value="1.4404">1.4404 (316L)</option>
                                <option value="1.4845">1.4845 (310)</option>
                                <option value="16Mo3">16Mo3</option>
                                <option value="Aluminyum">Aluminyum</option>
                                <option value="Bakƒ±r">Bakƒ±r</option>
                                <option value="Bronz">Bronz</option>
                                <option value="Pirin√ß">Pirin√ß</option>
                                <option value="Delrin">Delrin</option>
                                <option value="Hardox">Hardox</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="adet">
                                <span class="label-icon">üî¢</span> <span data-lang="quantity">Adet</span>
                            </label>
                            <input type="number" id="adet" value="1" min="1">
                        </div>
                        <div class="form-group">
                            <label for="heatNo">
                                <span class="label-icon">üî•</span> <span data-lang="description_heat">A√ßƒ±klama / Heat No</span>
                            </label>
                            <input type="text" id="heatNo" data-lang-placeholder="description_heat_placeholder">
                        </div>
                    </div>
                    
                    <!-- Dinamik √∂l√ß√º alanlarƒ± -->
                    <div id="olcuAlanlari" class="dimension-fields"></div>
                </div>

                <div class="action-buttons">
                    <button id="btnHesapla" class="btn btn-calculate" onclick="MaterialCalculator.hesapla()">
                        <span class="btn-icon">üßÆ</span> <span data-lang="calculate">Hesapla</span>
                    </button>
                    <button id="btnEkle" class="btn btn-add" onclick="MaterialCalculator.tabloyaEkle()">
                        <span class="btn-icon">‚ûï</span> <span data-lang="add_to_table">Tabloya Ekle</span>
                    </button>
                    <button id="btnTemizle" class="btn btn-clear" onclick="MaterialCalculator.temizle()">
                        <span class="btn-icon">üóëÔ∏è</span> <span data-lang="clear">Temizle</span>
                    </button>
                </div>

                <!-- Hesaplama Sonu√ßlarƒ± -->
                <div class="result-cards">
                    <div class="result-card">
                        <div class="result-icon">‚öñÔ∏è</div>
                        <div class="result-info">
                            <h3 data-lang="unit_weight_result">Birim Aƒüƒ±rlƒ±k</h3>
                            <div class="result-value">
                                <span id="birimAgirlik">0.00</span>
                                <span class="unit">kg</span>
                            </div>
                        </div>
                    </div>
                    <div class="result-card">
                        <div class="result-icon">üìä</div>
                        <div class="result-info">
                            <h3 data-lang="total_weight_result">Toplam Aƒüƒ±rlƒ±k</h3>
                            <div class="result-value">
                                <span id="toplamAgirlik">0.00</span>
                                <span class="unit">kg</span>
                            </div>
                        </div>
                    </div>
                    <div class="result-card" id="suHacmiCard" style="display:none;">
                        <div class="result-icon">üíß</div>
                        <div class="result-info">
                            <h3 data-lang="water_volume_result">Su Hacmi</h3>
                            <div class="result-value">
                                <span id="suHacmi">0.00</span>
                                <span class="unit">litre</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Saƒü Panel - Tablo -->
            <div class="right-panel">
                <div class="panel-header">
                    <h2 data-lang="material_list">üìã Malzeme Listesi</h2>
                </div>
                
                <div class="table-wrapper">
                    <table id="malzemeTablosu">
                        <thead>
                            <tr>
                                <th data-lang="part_no">P.No</th>
                                <th data-lang="quantity">Adet</th>
                                <th data-lang="material_type_col">Malzeme T√ºr√º</th>
                                <th data-lang="material_grade_col">Malzeme Cinsi</th>
                                <th data-lang="dimensions">√ñl√ß√ºler</th>
                                <th data-lang="standard">Standart</th>
                                <th data-lang="water_volume">Su Hacmi (L)</th>
                                <th data-lang="unit_weight">Birim Aƒüƒ±rlƒ±k (kg)</th>
                                <th data-lang="total_weight_col">Toplam Aƒüƒ±rlƒ±k (kg)</th>
                                <th data-lang="description_heat_col">A√ßƒ±klama / Heat No</th>
                                <th data-lang="action">ƒ∞≈ülem</th>
                            </tr>
                        </thead>
                        <tbody id="tabloGovdesi"></tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal ve Scripts -->
    <div id="settingsModal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Ayarlar</h2>
                <span class="close-modal">&times;</span>
            </div>
            <div class="modal-body" id="settingsBody"></div>
        </div>
    </div>

    <script src="js/modules/languageManager.js"></script>
    <script src="js/modules/filterManager.js"></script>
    <script src="js/modules/materialData.js"></script>
    <script src="js/modules/calculator.js"></script>
    <script src="js/modules/tableManager.js"></script>
    <script src="js/modules/excelManager.js"></script>
    <script src="js/modules/uiManager.js"></script>
    <script src="js/renderer.js"></script>
</body>
</html>